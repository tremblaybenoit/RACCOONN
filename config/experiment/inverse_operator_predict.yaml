# @package _global_
# Experiment-specific Hydra structure

# Overriding default structure
defaults:
  - override /paths: default
  - override /hydra: default
  - override /data: inverse_predict  # Data only for training
  - override /preparation: forward_default  # TODO: Check if needed
  - override /loader: inverse_predict  # Training only
  - override /model: pinnverse_operator
  - override /trainer: gpu
  - override /callbacks: default
  - override /logger: default

# All parameters below will be merged with parameters from default configurations set above.
# This allows you to overwrite only specified parameters

# Task name. Note that it determines the output directory path
task_name: "inverse_operator"  # Experiment

# Run id (unique identifier for the run)
paths:
  task_dir: "../inverse_outputs"
  run_id: "version_000"
  data_dir: "../../GOES_ML-main/Data"

# Model configuration
model:
  # Optimizer function and parameters
  optimizer: null
  # Learning rate scheduler
  lr_scheduler: null
  # Loss function and parameters
  loss_func: null
  # Plot logger
  log_valid: false
  # Parameters
  parameters:
    data:
      prof_vars: null
  # Transformations (to apply after the output layer)
  transform_out:
  # Inverse normalization for profile variables
  - _target_: ${data.stage.predict.vars.prof.normalization._target_}
    _partial_: true
    stats: ${data.stage.predict.vars.prof.normalization.stats}
    axis: ${data.stage.predict.vars.prof.normalization.axis}  # Axis for normalization
    inverse_transform: true