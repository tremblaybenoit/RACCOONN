defaults:
  - inverse_default@stage.predict

# Configuration to download the prediction and testing data
download:
  dir: ${paths.data_dir}
  url: "https://zenodo.org/record/1482223/files/GOES-16_ML_prediction_Testing_Data.zip?download=1"

# Split the data into prediction set
stage:
  # Prediction set
  predict:
    # Path to test data
    dir: ${paths.data_dir}/Test2
    # Split
    split:
        _target_: numpy.arange
        _args_:
          - 0
          - 426872
    # Variables
    vars:
      # Atmospheric profiles
      prof:
        # Normalization function and parameters
        normalization:
          _target_: inverse.data.transformations.min_max
          _partial_: true
          stats:
            _target_: inverse.data.statistics.read_statistics_var
            _args_:
              - ${paths.data_dir}/normalization/stats_cloud_filter2.pkl
              - 'prof'
          axis: 1  # null
      # Brightness temperatures (observed)
      hofx: {}
      # Surface data
      surf: {}
      # Meta data
      meta: {}
      # Brightness temperature innovations
      hofx_innovation: {}
      # Background atmospheric profiles
      prof_background: {}
      # Atmospheric profile increment
      prof_increment: {}
      # Cloud filter
      cloud_filter: {}
      # Latitude
      lat:
        # Normalization function and parameters
        normalization:
          _target_: inverse.data.transformations.min_max
          _partial_: true
          stats:
            _target_: inverse.data.statistics.read_statistics_var
            _args_:
              - ${paths.data_dir}/normalization/stats_cloud_filter2.pkl
              - 'lat'
      # Longitude
      lon:
        # Normalization function and parameters
        normalization:
          _target_: inverse.data.transformations.min_max
          _partial_: true
          stats:
            _target_: inverse.data.statistics.read_statistics_var
            _args_:
              - ${paths.data_dir}/normalization/stats_cloud_filter2.pkl
              - 'lon'
      # Scans
      scans:
        # Normalization function and parameters
        normalization:
          _target_: inverse.data.transformations.min_max
          _partial_: true
          stats:
            _target_: inverse.data.statistics.read_statistics_var
            _args_:
              - ${paths.data_dir}/normalization/stats_cloud_filter2.pkl
              - 'scans'
      # Pressure levels
      pressure:
        # Normalization function and parameters
        normalization:
          _target_: inverse.data.transformations.min_max
          _partial_: true
          stats:
            _target_: inverse.data.statistics.read_statistics_var
            _args_:
              - ${paths.data_dir}/normalization/stats_cloud_filter2.pkl
              - 'pressure'