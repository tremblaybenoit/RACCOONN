# Configuration to download the training and testing data
download:
  dir: ${paths.data_dir}
  url: "https://zenodo.org/record/1482223/files/GOES-16_ML_Training_Testing_Data.zip?download=1"

# Configuration for the variables used in the dataset
vars:
  prof:
    type: ['Air temperature', 'Water vapor mixing ratio', 'Cloud ice mass', 'Cloud water mass', 'Snow mass',
           'Ice particle effective radius', 'Water particle effective radius',
           'Snow particle effective radius', 'Ozone mixing ratio']
    path: ${paths.data_dir}/Test2/prof.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.prof.path}
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'prof'
      axis: null  # Axis for normalization
  surf:
    type: ['Ice area fraction', 'Land area fraction', 'Land type', 'Leaf area index', 'Soil temperature',
           'Snow area fraction', 'Snow thickness', 'Soil temperature',
           'Surface temperature (ice, land, sea, snow)', 'Wind direction', 'Wind speed',
           'Vegetation area fraction', 'Water area fraction', 'Volumetric water ratio (soil)']
    path: ${paths.data_dir}/Test2/surf.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.surf.path}
    normalization:
      _target_: forward.data.transformations.NormalizeSurface
      _partial_: false
      surfmax:
        _target_: numpy.loadtxt
        _args_:
          - forward/data/normalization/surfmax.txt
      surfmin:
        _target_: numpy.loadtxt
        _args_:
          - forward/data/normalization/surfmin.txt
  meta:
    type: ['Sensor scan angle', 'Sensor zenith angle', 'Sensor view angle', 'Sensor azimuth angle',
            'Sensor elevation angle', 'Solar azimuth angle', 'Solar zenith angle']
    path: ${paths.data_dir}/Test2/meta.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.meta.path}
    normalization:
      _target_: forward.data.transformations.NormalizeMeta
      _partial_: false
      settings:
        meta_cos_vars: [ 6 ]
        meta_scale_factor: 180
        meta_scale_offset: -180
        meta_scale_vars: [ ]
        meta_sin_vars: [ 0, 1, 2, 3, 4, 5 ]
  hofx:
    path: ${paths.data_dir}/Test2/hofx_lightning.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.hofx.path}
  lat:
    path: ${paths.data_dir}/Test2/lat.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.lat.path}
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'lat'
  lon:
    path: ${paths.data_dir}/Test2/lon.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.lon.path}
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'lon'
  scans:
    path: ${paths.data_dir}/Test2/scans.txt
    load:
      _target_: numpy.loadtxt
      _args_:
        - ${data.vars.scans.path}
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'scans'
  pressure:
    path: ${paths.data_dir}/Test2/pressure.npy
    load:
      _target_: numpy.load
      _args_:
        - ${data.vars.pressure.path}
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'pressure'
  hofx_innovation:
    load:
      _target_: inverse.data.covariance.innovation_uncertainty
      data: ${data.vars.hofx.load}
  prof_background:
    load:
      _target_: inverse.data.covariance.background_climatology
      data: ${data.vars.prof.load}
      cloud_filter: ${data.vars.cloud_filter.load}
    normalization: ${data.vars.prof.normalization}
  prof_increment:  # Note: It applies normalization to the data as specified in the data configuration.
    load:
      _target_: inverse.data.covariance.background_increment
      config_true: ${data.vars.prof}
      config_background: ${data.vars.prof_background}
  pressure_filter:
    load:
      _target_: inverse.data.filters.pressure_filter
      prof: ${data.vars.prof.load}
  cloud_filter:
    load:
      _target_: inverse.data.filters.cloud_filter
      prof: ${data.vars.prof.load}