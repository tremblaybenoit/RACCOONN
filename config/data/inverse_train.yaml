defaults:
  - inverse_default@stage.train
  - inverse_default@stage.valid
  - inverse_default@stage.test

# Configuration to download the training and testing data
download:
  dir: ${paths.data_dir}
  url: "https://zenodo.org/record/1482223/files/GOES-16_ML_Training_Testing_Data.zip?download=1"

# Split the data into training, validation, and test sets
stage:
  # Training set
  train:
    # Path to training data
    dir: ${paths.data_dir}/Test2
    # Split
    split:
      _target_: ${data.stage.train.vars.cloud_filter._target_}
      prof:
        load:
          _target_: ${data.stage.train.vars.prof.load._target_}
          path: ${data.stage.train.vars.prof.load.path}
      split:
        _target_: numpy.arange
        _args_:
          - 0
          - 256608
      # Adjust computation of pressure filter
      vars:
        pressure_filter:
          load:
            _target_: inverse.data.filters.pressure_filter
            prof:
              _target_: numpy.stack
              _args_:
                - [${stage.train.vars.prof.load}, ${stage.valid.vars.prof.load}, ${stage.test.vars.prof.load}]
                - 0
  # Validation set
  valid:
    # Path to validation data
    dir: ${paths.data_dir}/Test2
    # Split
    split:
      _target_: ${data.stage.valid.vars.cloud_filter._target_}
      prof:
        load:
          _target_: ${data.stage.valid.vars.prof.load._target_}
          path: ${data.stage.valid.vars.prof.load.path}
      split:
        _target_: numpy.arange
        _args_:
          - 256608
          - 320760
      # Adjust computation of pressure filter
      vars:
        pressure_filter: ${stage.train.vars.pressure_filter}
  # Test set
  test:
    # Path to test data
    dir: ${paths.data_dir}/Test2
    # Split
    split:
      _target_: ${data.stage.test.vars.cloud_filter._target_}
      prof:
        load:
          _target_: ${data.stage.test.vars.prof.load._target_}
          path: ${data.stage.test.vars.prof.load.path}
      split:
        _target_: numpy.arange
        _args_:
          - 320760
          - 384912
      # Adjust computation of pressure filter
      vars:
        pressure_filter: ${stage.train.vars.pressure_filter}