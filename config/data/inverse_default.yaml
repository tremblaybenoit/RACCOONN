# Inheritance of default settings for forward model. We only override the required settings.
defaults:
  - forward_default

# Directory
dir: Test2
# Split (null for no split)
split:
  _target_: numpy.arange
  _args_:
      - 0
      - 426872

# Variables
vars:
  # Brightness temperatures (observed)
  hofx:
    # Loading function
    load:
      path: ${....dir}/hofx_lightning.npy
  # Latitude
  lat:
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'lat'
  # Longitude
  lon:
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'lon'
  # Scans
  scans:
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'scans'
  # Pressure levels
  pressure:
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.min_max
      _partial_: true
      stats:
        _target_: inverse.data.statistics.read_statistics_var
        _args_:
          - ${preparation.statistics.data.output.path}
          - 'pressure'
  # Brightness temperature innovations
  hofx_innovation:
    # Loading function
    load:
      _target_: inverse.data.covariance.innovation_uncertainty
      data: ${...hofx.load}
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.identity
      _partial_: true
  # Background atmospheric profiles
  prof_background:
    # Loading function
    load:
      _target_: inverse.data.covariance.background_climatology
      data: ${...prof.load}
    # Normalization function and parameters
    normalization: ${..prof.normalization}
  # Increment atmospheric profiles
  prof_increment:
    # Loading function
    load:
      _target_: inverse.data.covariance.background_increment
      config_true: ${...prof}
      config_background: ${...prof_background}
    # Normalization function and parameters
    normalization:
      _target_: inverse.data.transformations.identity
      _partial_: true